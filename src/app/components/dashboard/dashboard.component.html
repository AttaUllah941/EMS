<div class="dashboard-container">
  
  
  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner">
      <div class="spinner"></div>
      <p>Loading dashboard data...</p>
    </div>
  </div>
  
  <div class="dashboard-content">
    <!-- Summary Cards -->
    <div class="summary-section">
      <!-- Total Employees Card -->
      <div class="summary-card">
        <div *ngIf="loading || !stats" class="summary-skeleton" [style.animation-delay]="'0s'">
          <div class="skeleton-icon"></div>
          <div class="skeleton-content">
            <div class="skeleton-title"></div>
            <div class="skeleton-value"></div>
            <div class="skeleton-description"></div>
          </div>
        </div>
        <div *ngIf="!loading && stats" class="summary-card-content">
          <div class="summary-icon-wrapper">
            <div class="summary-icon">üë•</div>
          </div>
          <div class="summary-content">
            <h4>Total Employees</h4>
            <div class="summary-value">{{ stats.totalEmployees }}</div>
            <p class="summary-description">Active team members</p>
          </div>
        </div>
      </div>
      
      <!-- Total Projects Card -->
      <div class="summary-card">
        <div *ngIf="loading || !stats" class="summary-skeleton" [style.animation-delay]="'0.1s'">
          <div class="skeleton-icon"></div>
          <div class="skeleton-content">
            <div class="skeleton-title"></div>
            <div class="skeleton-value"></div>
            <div class="skeleton-description"></div>
          </div>
        </div>
        <div *ngIf="!loading && stats" class="summary-card-content">
          <div class="summary-icon-wrapper">
            <div class="summary-icon">üìÅ</div>
          </div>
          <div class="summary-content">
            <h4>Total Projects</h4>
            <div class="summary-value">{{ stats.totalProjects }}</div>
            <p class="summary-description">Active projects</p>
          </div>
        </div>
      </div>

      <!-- Total Tasks Card -->
      <div class="summary-card">
        <div *ngIf="loading || !stats" class="summary-skeleton" [style.animation-delay]="'0.2s'">
          <div class="skeleton-icon"></div>
          <div class="skeleton-content">
            <div class="skeleton-title"></div>
            <div class="skeleton-value"></div>
            <div class="skeleton-description"></div>
          </div>
        </div>
        <div *ngIf="!loading && stats" class="summary-card-content">
          <div class="summary-icon-wrapper">
            <div class="summary-icon">‚úÖ</div>
          </div>
          <div class="summary-content">
            <h4>Total Tasks</h4>
            <div class="summary-value">{{ getTotalTasks() }}</div>
            <p class="summary-description">All tasks</p>
          </div>
        </div>
      </div>

      <!-- Completion Rate Card -->
      <div class="summary-card">
        <div *ngIf="loading || !stats" class="summary-skeleton" [style.animation-delay]="'0.3s'">
          <div class="skeleton-icon"></div>
          <div class="skeleton-content">
            <div class="skeleton-title"></div>
            <div class="skeleton-value"></div>
            <div class="skeleton-description"></div>
          </div>
        </div>
        <div *ngIf="!loading && stats" class="summary-card-content">
          <div class="summary-icon-wrapper">
            <div class="summary-icon">üìä</div>
          </div>
          <div class="summary-content">
            <h4>Completion Rate</h4>
            <div class="summary-value highlight">{{ getCompletionRate() }}%</div>
            <p class="summary-description">Tasks completed</p>
          </div>
        </div>
      </div>
    </div>


    <!-- Individual Charts Grid -->
    <div *ngIf="!loading && stats" class="charts-grid">
      <!-- Employees Chart -->
      <div class="chart-section">
        <div class="chart-card">
          <div class="chart-header">
            <div *ngIf="employeesChartLoading" class="header-skeleton">
              <div class="skeleton-header-title"></div>
            </div>
            <h3 *ngIf="!employeesChartLoading">
              <span class="chart-icon">üë•</span>
              Employees 
              <span class="count-badge" *ngIf="stats">{{ stats.totalEmployees }}</span>
            </h3>
          </div>
          <div class="chart-container">
            <div *ngIf="employeesChartLoading" class="chart-skeleton">
              <div class="skeleton-header"></div>
              <div class="skeleton-bars">
                <div class="skeleton-bar" *ngFor="let i of [1,2,3,4]" [style.animation-delay]="i * 0.1 + 's'"></div>
              </div>
            </div>
            <div #employeesChart class="chart" [class.chart-hidden]="employeesChartLoading"></div>
          </div>
        </div>
      </div>

      <!-- Projects Chart -->
      <div class="chart-section">
        <div class="chart-card">
          <div class="chart-header">
            <div *ngIf="projectsChartLoading" class="header-skeleton">
              <div class="skeleton-header-title"></div>
            </div>
            <h3 *ngIf="!projectsChartLoading">
              <span class="chart-icon">üìÅ</span>
              Projects 
              <span class="count-badge" *ngIf="stats">{{ stats.totalProjects }}</span>
            </h3>
          </div>
          <div class="chart-container">
            <div *ngIf="projectsChartLoading" class="chart-skeleton">
              <div class="skeleton-header"></div>
              <div class="skeleton-bars">
                <div class="skeleton-bar" *ngFor="let i of [1,2,3]" [style.animation-delay]="i * 0.1 + 's'"></div>
              </div>
            </div>
            <div #projectsChart class="chart" [class.chart-hidden]="projectsChartLoading"></div>
          </div>
        </div>
      </div>

      <!-- Tasks Chart -->
      <div class="chart-section">
        <div class="chart-card">
          <div class="chart-header">
            <div *ngIf="tasksChartLoading" class="header-skeleton">
              <div class="skeleton-header-title"></div>
            </div>
            <h3 *ngIf="!tasksChartLoading">
              <span class="chart-icon">‚úÖ</span>
              Tasks 
              <span class="count-badge" *ngIf="stats">{{ getTotalTasks() }}</span>
            </h3>
          </div>
          <div class="chart-container">
            <div *ngIf="tasksChartLoading" class="chart-skeleton">
              <div class="skeleton-header"></div>
              <div class="skeleton-bars">
                <div class="skeleton-bar" *ngFor="let i of [1,2,3]" [style.animation-delay]="i * 0.1 + 's'"></div>
              </div>
            </div>
            <div #tasksChart class="chart" [class.chart-hidden]="tasksChartLoading"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Overview Chart -->
    <div *ngIf="!loading && stats" class="chart-section main-chart-section">
      <div class="chart-card">
        <div class="chart-header">
          <div *ngIf="mainChartLoading" class="header-skeleton">
            <div class="skeleton-header-subtitle"></div>
          </div>
          <h4 *ngIf="!mainChartLoading" class="chart-subtitle">Total count of Employees, Projects, and Tasks</h4>
        </div>
        <div class="chart-container">
          <div *ngIf="mainChartLoading" class="chart-skeleton">
            <div class="skeleton-header"></div>
            <div class="skeleton-bars">
              <div class="skeleton-bar" *ngFor="let i of [1,2,3]" [style.animation-delay]="i * 0.1 + 's'"></div>
            </div>
          </div>
          <div #mainChart class="chart" [class.chart-hidden]="mainChartLoading"></div>
        </div>
      </div>
    </div>

    
  </div>
</div>
